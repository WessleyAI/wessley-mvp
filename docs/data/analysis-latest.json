{
  "timestamp": "2026-02-28T10:09:00Z",
  "critical": [
    {
      "title": "Embedding ratio still at 62% — 2,007 nodes invisible to RAG",
      "detail": "3,322 vectors for 5,329 nodes (62.3%). Improved from 55.7% at last analysis thanks to ingest restart, but 2,007 nodes remain unembedded. ManualEntry (2,360 nodes — the OEM gold data) likely still has poor vector coverage. At current embedding rate (~610 vectors in 4 hours), full coverage would take ~13 more hours IF ingest keeps running.",
      "fix": "Run dedicated backfill: go run cmd/backfill/main.go to embed all existing nodes. Verify it handles ManualEntry type. Monitor until embedding_ratio > 0.95."
    }
  ],
  "warnings": [
    {
      "title": "Scraper downgraded to single year (2020) — should cover full range",
      "detail": "Scraper PID 12336 now running with -nhtsa-year 2020 (previously was 2024-only and exhausted). Good that it changed, but only one year at a time is slow. Should run 2020-2025 for maximum coverage.",
      "fix": "Restart scraper with: -nhtsa-year 2020,2021,2022,2023,2024,2025 to parallelize year coverage."
    },
    {
      "title": "No process supervision — ingest died silently for 6+ hours last night",
      "detail": "Ingest was dead from ~sometime before 06:09 until manual restart at 08:11. No alerts, no auto-restart. This will happen again.",
      "fix": "Wrap ingest in a restart loop: while true; do /tmp/wessley-ingest ...; sleep 5; done. Or use launchd plist for proper supervision."
    },
    {
      "title": "HNSW index not built — brute-force search on all queries",
      "detail": "indexed_vectors_count=0 with 3,322 points. Qdrant threshold is 10,000. Fine for now, but plan for latency spike when crossing threshold."
    },
    {
      "title": "Biddings containers multiplying — now 3 (was 2), adding postgres",
      "detail": "biddings-neo4j:7475, biddings-qdrant:6335, biddings-postgres:15432 all running. Postgres is new (3h old). Not used by Wessley. Consuming RAM and ports.",
      "fix": "docker stop biddings-neo4j biddings-qdrant biddings-postgres"
    },
    {
      "title": "Reddit scraper still stopped — 0 community repair knowledge",
      "detail": "Reddit is the largest source of real-world mechanic Q&A. Zero posts scraped. YouTube also at 0 docs despite 'running' status in metrics.",
      "fix": "Enable Reddit scraper targeting r/MechanicAdvice, r/CarTalk, r/AskMechanics."
    },
    {
      "title": "Relationship density improving but still low — 0.264 rels/node (target 3-5)",
      "detail": "1,409 relationships for 5,329 nodes. Up from 0.222 last time. DOCUMENTED_IN jumped from 429 to 676 (+57%), which is great progress, but overall graph is still sparse."
    }
  ],
  "healthy": [
    "RECOVERY: Ingest process back online (PID 12335 since 08:11) — pipeline actively processing again",
    "RECOVERY: Embedding pipeline resumed — 610 new vectors in ~4 hours (was stalled 12+ hours)",
    "GROWTH: Nodes 4,865→5,329 (+464), Components 1,819→2,203 (+384 new complaint/repair docs)",
    "GROWTH: Relationships 1,082→1,409 (+327, +30%), DOCUMENTED_IN 429→676 (+57%)",
    "GROWTH: Vectors 2,712→3,322 (+610, +22.5%)",
    "Build: go build ./... — zero errors, clean compilation",
    "Tests: ALL 17 test suites PASS, 27 packages total, zero failures",
    "Infrastructure: Neo4j 5.x + Qdrant green + Ollama serving — all stable 24+ hours",
    "Vehicle hierarchy: 33 Makes, 200 Models, 232 ModelYears, 210 Systems, 91 Subsystems",
    "Top coverage: Toyota (18 models/420 docs), Honda (12/310), Ford (15/285)",
    "Qdrant: status=green, optimizer_status=ok, 3,322 vectors, Cosine/768d",
    "Error rate: 23/5329 = 0.43% — excellent, improved from 0.47%",
    "Data dir growing again: 96MB→105MB (+9MB, scraper producing output)",
    "First non-metrics commit in 20+: 'fixes: bug fixer run report' — development activity resumed",
    "Scraper expanded to 2020 year range (was stuck on exhausted 2024)"
  ],
  "suggestions": [
    {
      "title": "Run backfill to embed all 2,007 unvectorized nodes NOW",
      "impact": "Single action improves RAG recall by ~60%. ManualEntry (OEM data) is the highest-quality content and likely mostly unembedded.",
      "effort": "low"
    },
    {
      "title": "Add process supervision for ingest — prevent silent 6-hour outages",
      "impact": "Last night's outage was invisible until analysis caught it. Simple restart loop prevents this entirely.",
      "effort": "low"
    },
    {
      "title": "Expand scraper to multi-year range (2020-2025)",
      "impact": "Currently only scraping 2020. Running all years simultaneously unlocks 5x more NHTSA data. Flag change only.",
      "effort": "low"
    },
    {
      "title": "Kill biddings-* containers to reclaim memory",
      "impact": "3 containers not used by Wessley consuming RAM. Instant cleanup.",
      "effort": "low"
    },
    {
      "title": "Enable Reddit + YouTube scrapers for source diversity",
      "impact": "Currently 2 active sources (NHTSA + iFixit). Reddit adds community repair knowledge, YouTube adds video repair guides. Target: 4+ active sources.",
      "effort": "med"
    },
    {
      "title": "Add enrichment pass to boost relationship density",
      "impact": "0.264 rels/node is far below 3-5 target. Run enricher to link Components to Systems, cross-reference similar complaints across vehicles.",
      "effort": "med"
    }
  ],
  "bugs": [
    {
      "title": "Ingest process lacks crash recovery / supervision",
      "file": "cmd/ingest/main.go",
      "line": 0,
      "detail": "Ingest died silently between 02:09-06:09 analysis window. No crash log, no restart. Was manually restarted at 08:11. Needs defer/recover and external supervision.",
      "fix": "Add panic recovery in main loop. Wrap in shell restart loop or launchd plist. Log crash reason to file."
    },
    {
      "title": "Backfill may not cover ManualEntry nodes",
      "file": "cmd/backfill/main.go",
      "line": 0,
      "detail": "2,360 ManualEntry nodes are the largest node type. If backfill only processes Component type, the highest-quality OEM data stays invisible to vector search.",
      "fix": "Verify backfill queries all node types. Test with: go run cmd/backfill/main.go -dry-run"
    },
    {
      "title": "YouTube scraper reports 'running' but has 0 documents",
      "file": "cmd/scraper-youtube/main.go",
      "line": 0,
      "detail": "metrics-latest.json shows youtube status='running' with total_docs=0. Either it's silently failing or misconfigured.",
      "fix": "Check scraper-youtube logs. Verify API key / search terms configured."
    }
  ],
  "metrics": {
    "total_docs": 5329,
    "total_nodes": 5329,
    "total_vectors": 3322,
    "total_relationships": 1409,
    "error_rate": 0.0043,
    "sources_active": 2,
    "sources_configured": 4,
    "embedding_ratio": 0.623,
    "node_types": {
      "ManualEntry": 2360,
      "Component": 2203,
      "ModelYear": 232,
      "System": 210,
      "VehicleModel": 200,
      "Subsystem": 91,
      "Make": 33
    },
    "relationship_types": {
      "DOCUMENTED_IN": 676,
      "OF_MODEL": 232,
      "HAS_SYSTEM": 210,
      "HAS_MODEL": 200,
      "HAS_SUBSYSTEM": 91
    },
    "makes_covered": 33,
    "models_covered": 200,
    "top_make_docs": "Toyota:420",
    "docs_last_6h": 464,
    "vectors_last_6h": 610,
    "rels_last_6h": 327,
    "disk_data_mb": 105,
    "disk_code_mb": 448
  },
  "strategy": [
    "PIPELINE RECOVERED: Ingest back online since 08:11. Embedding and graph growth resumed. The 6-hour outage overnight is the wake-up call — add supervision before it happens again.",
    "IMMEDIATE WIN: Run backfill to close the 38% embedding gap. This is the single highest-impact action for RAG quality. ManualEntry nodes (OEM data) are the crown jewels.",
    "DATA EXPANSION: Scraper now on 2020 (was exhausted 2024). Good progress but should cover 2020-2025 simultaneously. Each year adds thousands of complaints.",
    "SOURCE DIVERSITY: 2 sources active (NHTSA + iFixit). Reddit and YouTube would bring community knowledge and video guides. Target 4+ sources for robust coverage.",
    "MILESTONE TRACKING: At current rate (~150 vectors/hour), full embedding coverage (~5,300 vectors) achievable in ~13 hours. Push for 95%+ embedding ratio by tomorrow.",
    "NEXT MILESTONE: 5,000+ vectors (backfill), 4+ active sources (enable Reddit), 10,000+ nodes (multi-year scraping). This makes the RAG pipeline genuinely demo-ready."
  ],
  "changes_since_last": [
    "RECOVERED: Ingest process restarted (PID 12335 since 08:11) — was dead at 06:09 analysis",
    "RECOVERED: Embedding pipeline active — 610 new vectors (2,712→3,322, +22.5%)",
    "IMPROVED: Nodes grew 4,865→5,329 (+464, +9.5%)",
    "IMPROVED: Relationships grew 1,082→1,409 (+327, +30.2%)",
    "IMPROVED: DOCUMENTED_IN 429→676 (+57%) — best relationship growth yet",
    "IMPROVED: Components 1,819→2,203 (+384 new repair/complaint docs)",
    "IMPROVED: Embedding ratio 55.7%→62.3% (+6.6pp)",
    "IMPROVED: Error rate 0.47%→0.43%",
    "IMPROVED: Data dir growing again 96MB→105MB",
    "CHANGED: Scraper reconfigured from 2024-only to 2020 year",
    "CHANGED: Models 196→200, ModelYears 222→232, Systems 161→210, Subsystems 74→91",
    "NEW: biddings-postgres container appeared (3h old)",
    "NEW: 'fixes: bug fixer run report' commit — first non-metrics commit in 20+",
    "STABLE: Build clean, all 17 test suites passing",
    "STABLE: All infrastructure healthy (Neo4j, Qdrant, Ollama)"
  ]
}
